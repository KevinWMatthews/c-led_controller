# Build and install CppUTest locally.
git clone https://github.com/cpputest/cpputest.git CppUTest
cd CppUTest
cd cpputest_build       # They provide this build directory.
cmake -DCMAKE_INSTALL_PREFIX=/home/kevin/coding/c/led_controller/install/ ..
TODO should we customize? can use
make edit_cache
make
make test
make install


# Now configure my project:
mkdir build
cd build
cmake -DCMAKE_INSTALL_PREFIX=/home/kevin/coding/c/led_controller/install -DCPPUTEST_HOME=/home/kevin/coding/c/led_controller/install -DCOMPILE_TESTS=ON ..
# Toolchain file must come first?
cmake -DCMAKE_TOOLCHAIN_FILE=/home/kevin/coding/c/led_controller/Toolchain-avr-ATtiny.cmake -DCMAKE_INSTALL_PREFIX=/home/kevin/coding/c/led_controller/install -DCPPUTEST_HOME=/home/kevin/coding/c/led_controller/install -DCOMPILE_TESTS=OFF ..

make
#Fails
It's searching for libraryies in install/CppUTest
and the source code includes <CppUTest/some_header.h>


The documentation states that we need to add:
    CXXFLAGS += -include $(CPPUTEST_HOME)/include/CppUTest/MemoryLeakDetectorNewMacros.h
    CFLAGS += -include $(CPPUTEST_HOME)/include/CppUTest/MemoryLeakDetectorMallocMacros.h
However, I'm only adding MallocMacros and it works.
